<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <title>Financial Assistance for Energy Eligibility Checker</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="icon" type="image/x-icon" href="favicon.ico" />
  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <main class="app">
    <section class="card" aria-labelledby="main-title">
      <header class="header">
        <h1 id="main-title" class="title">Financial Assistance for Energy</h1>
        <p class="subtitle">
          Check if your household is eligible for financial assistance for energy based on your
          average monthly income and household size.
        </p>
      </header>

      <section class="rules" aria-label="Eligibility rules">
        <div><strong>Eligibility rule:</strong> Your household can apply if:</div>
        <div class="formula">
          <code>average monthly income &lt; 1930 € * household size</code>
        </div>
        <ul>
          <li>The <strong>first member aged 14 or above</strong> counts as <strong>1.0</strong>.</li>
          <li>Every <strong>additional member aged 14 or above</strong> counts as <strong>0.7</strong>.</li>
          <li>Each <strong>member below 14</strong> counts as <strong>0.5</strong>.</li>
        </ul>
        <div class="reference-container">
          <a href="https://rokovania.gov.sk/RVL/Material/31398/1" target="_blank" rel="noopener noreferrer"
            class="reference-link">Reference: Government Resolution (rokovania.gov.sk) —
            details can be found in the <strong>Vlastný materiál</strong> file</a>
        </div>
      </section>

      <details class="information-box" aria-label="Income scope">
        <summary>
          <h3>What counts as income?</h3>
        </summary>
        <p class="details-intro">Based on §4 (1) of the Government Resolution:</p>
        <ul>
          <li>
            Taxable employment income, except: student work agreements (brigády),
            contracts for sports professionals (students under 26), work performed under
            agreements by pensioners (service, old-age, invalidity), refunded health or
            social insurance premiums, honoraria for election/census officials,
            student vocational practice income, and service-related benefits (severance,
            recreation allowance).
          </li>
          <li>
            Business income (príjem z podnikania) subject to income tax.
          </li>
          <li>
            Other self-employment income (iné SZČ) not classified as employment,
            excluding personal assistance income.
          </li>
          <li>
            Pension benefits (Social Insurance), including minimum pension top-ups,
            excluding the 13th pension.
          </li>
          <li>
            Service pensions and survivor benefits for armed forces and security corps
            (police, military, customs, etc.).
          </li>
        </ul>
        <small>
          Verification sources: health insurer systems (employment, business, SZČ),
          the Financial Administration (business and SZČ tax bases), the Social Insurance
          Agency (statutory pensions), and the registries maintained by the Interior Ministry,
          Defense Ministry, Military Social Security Office, Prison and Justice Guard Corps,
          Financial Directorate, and National Security Authority for service pensions.
        </small>
      </details>

      <div class="form-grid">
        <section class="income-card" aria-label="Income inputs">
          <h2 class="section-title">1. Household Income Categories</h2>
          <p class="field-note">Enter values for the <strong>whole household</strong> for the relevant period.</p>

          <div class="input-group">
            <label for="income-employment">Employment Income (Príjem zo závislej činnosti)</label>
            <input id="income-employment" type="number" min="0" placeholder="e.g. 12000" inputmode="decimal" />
            <p class="field-help">Taxable income excluding specific exemptions (student brigades, etc.).</p>
          </div>

          <div class="input-group business-group">
            <label for="income-business">Business & Other Self-employment (Partial Tax Base)</label>
            <input id="income-business" type="number" min="0" placeholder="e.g. 8660" inputmode="decimal" />

            <details class="advanced-options">
              <summary>Adjust business duration (if less than 12 months)</summary>
              <div class="sub-inputs">
                <div>
                  <label for="months-tax">Months in Tax Period (SZ_zo)</label>
                  <input id="months-tax" type="number" min="1" max="12" placeholder="12" value="12" />
                </div>
                <div>
                  <label for="months-decision">Months in Decision Period (SZ_t)</label>
                  <input id="months-decision" type="number" min="0" max="12" placeholder="12" value="12" />
                </div>
              </div>
            </details>
            <p class="field-help">Partial tax base from §7 ods. 2 písm. c). Will be adjusted by coefficient K and
              divided by 0.866.</p>
          </div>

          <div class="input-group">
            <label for="income-pension">Pension Benefits (Dôchodkové dávky)</label>
            <input id="income-pension" type="number" min="0" placeholder="e.g. 5000" inputmode="decimal" />
            <p class="field-help">Old-age, invalidity, widow/widower, orphan pensions (excluding 13th pension).</p>
          </div>

          <div class="input-group">
            <label for="income-service">Service Pension Benefits (Výsluhové dávky)</label>
            <input id="income-service" type="number" min="0" placeholder="e.g. 0" inputmode="decimal" />
            <p class="field-help">Service pensions for armed forces/police.</p>
          </div>

          <p id="income-error" class="error" aria-live="polite"></p>
        </section>

        <section class="members-card" aria-label="Household members">
          <h2 class="section-title">2. Household members</h2>
          <p class="field-note">
            Enter the age of everyone living in the same household.
          </p>
          <div id="members-list" class="members-list"></div>
          <button id="add-member" type="button" class="add-member-btn">
            + Add another member
          </button>
          <p id="members-error" class="error" aria-live="polite"></p>
        </section>
      </div>

      <div class="actions">
        <button id="check-btn" type="button" class="primary-btn">
          Check eligibility
        </button>
      </div>

      <section class="results" aria-live="polite">
        <div class="results-header">
          <span class="results-title">Result</span>
          <span id="result-pill" class="pill pill-neutral">Waiting for input</span>
        </div>
        <div class="results-grid">
          <div>
            <div class="stat-label">Household size</div>
            <div id="stat-size" class="stat-value">-</div>
          </div>
          <div>
            <div class="stat-label">Maximum monthly income per person (EUR)</div>
            <div id="stat-max-income" class="stat-value">-</div>
          </div>
          <div>
            <div class="stat-label">Your monthly income per person (EUR)</div>
            <div id="stat-income" class="stat-value">-</div>
          </div>
        </div>
        <p id="result-message" class="message"></p>
        <p class="footer-note">
          This tool is for guidance only and does not replace any official decision. All
          calculations run only in your browser; no data is sent or stored anywhere.
        </p>
      </section>
    </section>
  </main>

  <script src="script.js"></script>
</body>

</html>